<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quizzes GEM v1.9 - Multi-Pregunta</title> 
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="login-screen" class="container">
        <h1>ğŸš€ Quizzes GEM</h1>
        <p>Introduce tus datos para jugar</p>
        <input type="text" id="user-name-input" placeholder="Nombre de usuario">
        <input type="password" id="user-pass-input" placeholder="ContraseÃ±a">
        <button id="btn-login-action" class="btn-main">Entrar / Registrarse</button>
    </div>

    <div id="home-screen" class="container hidden">
        <div class="header-user">
            <span id="user-display"></span>
            <button id="btn-logout" class="btn-small">Salir</button>
        </div>
        <h1>ğŸ® MenÃº Principal</h1>
        <button id="btn-go-editor" class="btn-main" style="background:#00b894; margin-bottom:20px;">â• Crear Nuevo Quiz</button>
        
        <div id="quiz-list">
            <p>Cargando quizzes...</p>
        </div>

        <div id="global-ranking-list">
            <h3>ğŸ† Ranking Global</h3>
            </div>
    </div>

    <div id="editor-screen" class="container hidden">
        <button id="btn-back-home" class="btn-small">â† Volver al MenÃº</button>
        <h2>ğŸ“ Creador de Quizzes</h2>
        
        <div id="setup-quiz-info">
            <input type="text" id="quiz-title-input" placeholder="TÃ­tulo del Quiz (Ej: Marvel Trivia)">
            <p style="font-size: 12px; color: #666;">Define el tÃ­tulo y luego aÃ±ade tus preguntas abajo.</p>
        </div>

        <hr style="margin: 20px 0; border: 0.5px solid #eee;">

        <div id="question-editor" style="background: #f9f9f9; padding: 15px; border-radius: 10px; border: 2px dashed #6c5ce7;">
            <h4 id="q-number-display" style="color: #6c5ce7; margin-top: 0;">Pregunta #1</h4>
            <input type="text" id="q-text" placeholder="Â¿CuÃ¡l es la pregunta?">
            
            <div id="options-setup">
                <p style="font-size: 11px; text-align: left; margin: 5px 0; color: #2d3436;"><b>Importante:</b> La primera opciÃ³n SIEMPRE debe ser la correcta.</p>
                <input type="text" class="opt-input" placeholder="OpciÃ³n Correcta">
                <input type="text" class="opt-input" placeholder="OpciÃ³n Incorrecta">
            </div>
            
            <button id="btn-add-option" class="btn-small" style="margin-top: 5px;">+ AÃ±adir mÃ¡s opciones</button>
            <button id="btn-next-q" class="btn-main" style="background:#0984e3; margin-top: 20px;">Siguiente Pregunta â¡ï¸</button>
        </div>

        <div id="questions-added-count" style="margin: 15px 0; font-weight: bold; color: #2d3436;">Preguntas preparadas: 0</div>
        <button id="btn-save-quiz" class="btn-main" style="background:#00b894;">âœ¨ Publicar Quiz Completo</button>
    </div>

    <div id="quiz-screen" class="container hidden">
        <h2 id="current-quiz-title" style="color: #6c5ce7;"></h2>
        <div id="options-container">
            </div>
    </div>

    <div id="settings-screen" class="container hidden">
        <button id="btn-settings-back" class="btn-small">â† Volver</button>
        <h2 id="settings-quiz-title">Gestionar Quiz</h2>
        <button id="btn-view-responses" class="btn-main" style="background:#0984e3">ğŸ“Š Ver QuiÃ©n ParticipÃ³</button>
        <button id="btn-delete-quiz" class="btn-main" style="background:#d63031">ğŸ—‘ï¸ Eliminar este Quiz</button>
    </div>

    <div id="responses-screen" class="container hidden">
        <button id="btn-responses-back" class="btn-small">â† Volver</button>
        <h2>ğŸ“ˆ Resultados Globales</h2>
        <div id="responses-table">
            </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        
        const firebaseConfig = {
            apiKey: "AiZaSyAeDDT7easViii62TAbClEavEkeEy-aFL0",
            authDomain: "quizzesgem.firebaseapp.com",
            projectId: "quizzesgem",
            storageBucket: "quizzesgem.firebasestorage.app",
            messagingSenderId: "997547868244",
            appId: "1:997547868244:web:d8a84fca922730aeabadc1"
        };
        
        const app = initializeApp(firebaseConfig);
        window.db = getFirestore(app);
    </script>

    <script type="module" src="script.js"></script>

</body>
</html>